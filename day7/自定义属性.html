<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <button>按钮1</button>
    <button>按钮2</button>
    <button>按钮3</button>
    <script>
      //[元素].setAttribulte("属性名",值)
      //[元素].getAttribulte("属性名")
      //[元素].removeAttribute("属性名")
      // 设置自定义属性:基于setAttribute是把属性信息写到了元素标签的结构上(在结构中可以看到的),并没有放到元素对象对应的堆内存中.    基于getAttribute可以把结构上存储的自定义属性值获取到
      var btnList = document.querySelectorAll('button');
      for (var i = 0; i < btnList.length; i++) {
        // 设置自定义属性:元素对象.属性名 = 属性值(原理是向元素对象对应的堆内存中添加了一个属性)
        // btnList[i].myIndex = i;
        btnList[i].setAttribute('data-index', i);
        btnList[i].onclick = function () {
          // 获取自定义属性:元素对象.属性名 (原理是从堆内存中获取到对应的属性值)
          alert(this.getAttribute('data-index'));
        };
      }
    </script>
  </body>
</html>
